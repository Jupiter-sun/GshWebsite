<#include "/common/subhead.html"/>
<div class="main-content">
    <div class="main-content-inner">
        <div class="page-content">
            <div class="row">
                <div class="col-xs-12">
                    <form id="dForm" method="post" action="${ctx}/code/item/add" class="form-horizontal" role="form">
                        <input type="hidden" name="codekind.id" value="${kindId!}"/>
                        <input type="hidden" name="parentId" value="${parentId!}"/>
                        <div class="form-group">
                            <label class="col-sm-2 control-label no-padding-right" > 字典代码： </label>
                            <div class="col-sm-4">
                                <input type="text" name="id" value="" id="id" class="col-xs-10 col-sm-10 required" placeholder="输入字典代码"/>
                            </div>
                            <label class="col-sm-2 control-label no-padding-right"> 名称： </label>
                            <div class="col-sm-4">
                                <input type="text" name="itemName" value="" id="itemName" class="col-xs-10 col-sm-10 required" placeholder="输入名称"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label no-padding-right" > 转码： </label>
                            <div class="col-sm-4">
                                <input type="text" name="tranCode" value="" id="tranCode" class="col-xs-10 col-sm-10" placeholder="输入转码"/>
                            </div>
                            <label class="col-sm-2 control-label no-padding-right" > 排序： </label>
                            <div class="col-sm-4">
                                <input type="number" name="orderNo" value="" id="orderNo" class="col-xs-10 col-sm-10 number" placeholder="选择排序"/>
                            </div>
                        </div>
                        <div class="form-group">
                        	<label class="col-sm-2 control-label no-padding-right" > 是否有效： </label>
                            <div class="col-sm-4">
                                <div class="radio inline">
                                    <label>
                                        <input name="status" type="radio" class="ace" checked="checked" value="1"/>
                                        <span class="lbl"> 是 </span>
                                    </label>
                                </div>
                                <div class="radio inline">
                                    <label>
                                        <input name="status" type="radio" class="ace"  value="0" />
                                        <span class="lbl"> 否 </span>
                                    </label>
                                </div>                            
                        	</div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="footer" style="padding-top:10px;">
	<div class="footer-inner">
		<div class="footer-content" id="page-footer">
			<button class="btn btn-info" onclick="save()" >
				<i class="ace-icon fa fa-check bigger-110"></i>
				保存
			</button>
			<button class="btn" onclick="$.close();" >
				<i class="ace-icon fa fa-close bigger-110"></i>
				关闭
			</button>
		</div>
	</div>
</div>
<script type="text/javascript">
    function save(){
        if($("#dForm").valid()){
            var id = $("#id").val();
            $.ajax({
                type:"POST",
                url:"${ctx}/code/item/validate",
                data:"id="+id,
                cache:false,
                dataType:"json",
                success: function(dataResult){
                    if(dataResult.errcode=="0"){
                        $('#dForm').submit();
                    }
                    else{
                        $.msg(dataResult.errmsg);
                    }
                }
            });
        }
    }
</script>
</body>
</html>